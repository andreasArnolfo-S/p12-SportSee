<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: models/models.tsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: models/models.tsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useParams } from 'react-router-dom';
import { useApi } from './../api/api';
/**
 * @file Models
 */

/**
 * @function Performances
 * 
 * @returns {Array} A array with the user's performances.
 * @description It's a function that fetches the user's data from the API and returns it but with a new format.
 * this function is used in the performanceChart component.
 * @example
 * // call the function for get the performances
 * Performances()
 * // example of the return
 * [
 *  kind:{
 *     1: 'Cardio',
 *     2: 'intensity',
 *     3: 'strength',
 *     4: 'endurance',
 *     5: 'speed',
 *     6: 'energy',
 *   },
 *  kindFrench:{
 *    1: 'Cardio',
 *    2: 'Intensité',
 *    3: 'Force',
 *    4: 'Endurance',
 *    5: 'Vitesse',
 *    6: 'Energie',
 * },
 * data: [
 *    0: {
 *      kind: 1,
 *      value: 200,
 *   },...
 *  ]
 * ]
 * 
 */
export const Performances = () => {
     /* It's getting the id from the url. */
     const userId = useParams().id;
     /* It's getting the data from the api. */
     const data = useApi(`http://localhost:3000/user/${userId}/performance`);
     const performance = data.data?.data;
     const subject = data.data?.kind

     /**
      * @function translate it's a function that translate english words to french, takes in a string and returns a string.
      * @param {string} item - string - the item to translate
      * @returns {string} The function translate is being returned.
      */
     const translate: any = (item: string) => {
          switch (item) {
               case 'cardio':
                    return 'Cardio';
               case 'strength':
                    return 'Force';
               case 'endurance':
                    return 'Endurance';
               case 'intensity':
                    return 'Intensité';
               case 'speed':
                    return 'Vitesse';
               case 'energy':
                    return 'Energie';
               default:
                    return 'default';
          }
     };


     /**
      * it's a constant that takes in the performances and returns a new array with the performances
      *
      * @returns {array} Performances is returned with new data.
      */
     const newData = Array.isArray(performance) ? performance.map((performance: any, index: number) => {

          return { ...performance, kindFrench: translate(subject[index + 1]) };

     }) : [];


     return newData
}


/**
 * @function Activity
 * @returns {array} a new array.
 * @description It's a function that fetches data (activity) from an API and returns the data in a new format.
 * this function is used in the activityChart component.
 * @example
 * // call the function for get the activities
 * Activity()
 * // example of the return
 * [
 *  0 :{
 *      day: "2021-05-01"
 *      kilogram: 60
 *      calories: 1000
 *      formateday: "1"
 *   },...
 * ]
 * 
 */
export const Activity = () => {
     const userId = useParams().id;
     const data = useApi(`http://localhost:3000/user/${userId}/activity`);

     const sessions = data.data?.sessions;

     /* Mapping the data from the api to a new object. */
     let newData = sessions?.map((session: any) => {
          return { ...session, formateday: (new Date(session.day)).getDate() };
     });

     return newData;

};


/**
 * @function Duration
 * @returns {array} An array of objects.
 * @description It's function that Transforms the data from an AverageSessions model to a good format.
 * this function is used in the durationChart component.
 * @example
 * // call the function for get the duration
 * Duration()
 * // example of the return
 * [
 * day: {'L', 'M', 'M', 'J', 'V', 'S', 'D'}
 * sessionLength: {30, 20, 30, 40, 50, 60, 70}
 * ]
 */
export const Duration = () => {
     const userId = useParams().id;
     const data = useApi(`http://localhost:3000/user/${userId}/average-sessions`);

     const sessions = data.data?.sessions;

     /**
      * it's a function translate a number on abreviate day - it takes a number and returns a string.
      * @function translate 
      * @param {number} item - number - the number to be translated
      * @returns The function translate is being returned.
      */
     const translate: any = (item: number) => {
          switch (item) {
               case 1:
                    return 'L';
               case 2:
                    return 'M';
               case 3:
                    return 'M';
               case 4:
                    return 'J';
               case 5:
                    return 'V';
               case 6:
                    return 'S';
               case 7:
                    return 'D';
               default:
                    return 'default';
          }
     };

     let newData = sessions?.map((session: any) => {
          return {
               day: translate(session.day),
               sessionLength: session.sessionLength,
          };
     });

     return newData;

};


/**
 * @function KeyData
 * @returns {array} The key is being returned.
 * @description It's a function that fetches data (keyData) from an API and returns the data in a new format.
 * this function is used in the dashboard.
 * @example
 * // call the function for get the keyData
 * KeyData()
 * // example of the return
 * [1,2,3,4,5,6,7]
 */
export const KeyData = () => {
     const userId = useParams().id;
     const data = useApi(`http://localhost:3000/user/${userId}`);
     const key = data.data?.keyData;
     return key;
};


/**
 * @function Score
 * @returns {number} The score of user.
 * @description It's a function that fetches data (score) from an API and returns the data in a new format.
 * this function is used in the scoreChart component.
 * @example
 * // call the function for get the score
 * Score()
 * // example of the return
 * 0.75
 */
export const Score = () => {
     /* It's getting the id from the url. */
     const userId = useParams().id;
     /* It's getting the data from the api. */
     const data = useApi(`http://localhost:3000/user/${userId}`);
     const score = data.data?.score ? data.data?.score : data.data?.todayScore;
     return score;
}


/** 
 * @function User
 * @returns {Array} The data user.
 * @description It's a function that fetches data (user) from an API and returns the data in a new format.
 * this function is used in the hello component.
 * @example
 * // call the function for get the user
 * User()
 * // example of the return
 * [
 *  {
 *   firstname: 'John',
 *   lastname: 'Doe',
 *   age: 25,
 *  }
 * ]
 * 
 */
export const User = () => {
     const userId = useParams().id;
     const data = useApi(`http://localhost:3000/user/${userId}`);
     const infos = data.data?.userInfos;
     return infos;
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Interfaces</h3><ul><li><a href="CardProps.html">CardProps</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Activity">Activity</a></li><li><a href="global.html#ActivityChart">ActivityChart</a></li><li><a href="global.html#ActivityCustomTooltip">ActivityCustomTooltip</a></li><li><a href="global.html#AverageSessionsCustomTooltip">AverageSessionsCustomTooltip</a></li><li><a href="global.html#Card">Card</a></li><li><a href="global.html#Duration">Duration</a></li><li><a href="global.html#DurationChart">DurationChart</a></li><li><a href="global.html#Hello">Hello</a></li><li><a href="global.html#KeyData">KeyData</a></li><li><a href="global.html#PerformanceChart">PerformanceChart</a></li><li><a href="global.html#Performances">Performances</a></li><li><a href="global.html#Score">Score</a></li><li><a href="global.html#ScoreChart">ScoreChart</a></li><li><a href="global.html#User">User</a></li><li><a href="global.html#translate">translate</a></li><li><a href="global.html#useApi">useApi</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Fri Nov 25 2022 17:29:53 GMT+0100 (heure normale d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
